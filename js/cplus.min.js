!function(s){var o=cplus_custom.data||{};s(document).ready((function(){function e(o){var e=l.find(".message");t.addClass("cplus-processed").removeClass("cplus-general-errors"),e.html(void 0===o.message?e.data("errmsg"):o.message),!0===o.is_valid?(i.find(".cplus-control.error").removeClass("error"),l.removeClass("sent not-sent").addClass("sent")):(i.find(".cplus-control.error").removeClass("error"),l.removeClass("sent not-sent").addClass("not-sent"),s.each(o.errors,(function(s,o){if("nonce"===s||"form"===s)e.append("<span>"+o+"</span>"),t.addClass("cplus-general-errors");else{var r=i.find('span[for="cplus-'+s+'"]');r.html(o),r.closest(".cplus-control").addClass("error")}}))),r(!1)}function r(s){s?(n.removeClass("before_posting"),d.attr("disabled","disabled")):d.removeAttr("disabled"),a.toggleClass("ajaxed",s)}var a=s("body"),t=s("#cplus"),n=t.find(".cplus-subheading"),l=t.find(".cplus-status"),i=t.find("form"),d=i.find("#cplus-submit");if(t.length){var p=t.parent().offset().top,c=Math.floor(t.offset().top-p),u=Math.floor(l.offset().top-p),f=Math.floor(i.offset().top-p);s('<style type="text/css">.cplus-container-margin{margin-top:'+c+"px !important;} .cplus-subheading-margin{margin-top:"+u+"px !important;} .cplus-form-margin{margin-top:"+f+"px !important;} </style>").appendTo("body"),n.length&&n.css({top:u-c}),i.submit((function(a){a.preventDefault(),r(!0),s.ajax({type:"post",dataType:"json",cache:!1,url:o.ajaxurl,data:i.serialize()+"&action=cplus-submit",success:function(s){e(s.data)},error:function(s,o,r){var a;e({is_valid:!1,errors:{form:o+" : "+r}}),window.console&&window.console.log&&window.console.log(s,o,r)}})}))}}))}(jQuery);