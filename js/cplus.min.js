!function($){$(document).ready(function(){function s(s){var o=a.find(".message");r.addClass("cplus-processed").removeClass("cplus-general-errors"),o.html(void 0===s.message?o.data("errmsg"):s.message),!0===s.is_valid?(n.find(".cplus-control.error").removeClass("error"),a.removeClass("sent not-sent").addClass("sent")):(n.find(".cplus-control.error").removeClass("error"),a.removeClass("sent not-sent").addClass("not-sent"),$.each(s.errors,function(s,e){if("nonce"===s||"form"===s)o.append("<span>"+e+"</span>"),r.addClass("cplus-general-errors");else{var t=n.find('span[for="cplus-'+s+'"]');t.html(e),t.closest(".cplus-control").addClass("error")}})),e(!1)}function e(s){s?(t.removeClass("before_posting"),l.attr("disabled","disabled")):l.removeAttr("disabled"),o.toggleClass("ajaxed",s)}var o=$("body"),r=$("#cplus"),t=r.find(".cplus-subheading"),a=r.find(".cplus-status"),n=r.find("form"),l=n.find("#cplus-submit");if(r.length){var i=r.parent().offset().top,p=Math.floor(r.offset().top-i),c=Math.floor(a.offset().top-i),d=Math.floor(n.offset().top-i);$('<style type="text/css">.cplus-container-margin{margin-top:'+p+"px !important;} .cplus-subheading-margin{margin-top:"+c+"px !important;} .cplus-form-margin{margin-top:"+d+"px !important;} </style>").appendTo("body"),t.length&&t.css({top:c-p}),n.submit(function(o){o.preventDefault(),e(!0),$.ajax({type:"post",dataType:"json",cache:!1,url:cplus_custom.ajaxurl,data:n.serialize()+"&action=cplus-submit",success:function(e){s(e.data)},error:function(e,o,r){s({is_valid:!1,errors:{form:o+" : "+r}}),window.console&&window.console.log&&console.log(e,o,r)}})})}})}(jQuery);