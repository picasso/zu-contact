!function($){$(document).ready(function(){function s(s){var e=t.find(".cplus-status"),a=e.find(".message");t.addClass("cplus-processed"),a.html(void 0===s.message?a.data("errmsg"):s.message),!0===s.is_valid?(n.find(".cplus-control.error").removeClass("error"),e.removeClass("sent not-sent").addClass("sent")):(n.find(".cplus-control.error").removeClass("error"),e.removeClass("sent not-sent").addClass("not-sent"),$.each(s.errors,function(s,o){if("nonce"===s||"form"===s)a.append("<span>"+o+"</span>");else{var e=n.find('span[for="cplus-'+s+'"]');e.html(o),e.closest(".cplus-control").addClass("error")}})),o(!1)}function o(s){s?(a.removeClass("before_posting"),r.attr("disabled","disabled")):r.removeAttr("disabled"),e.toggleClass("ajaxed",s)}var e=$("body"),t=$("#cplus"),a=t.find(".cplus-subheading"),n=t.find("form"),r=n.find("#cplus-submit"),l=t.parent().offset().top,i=Math.floor(t.offset().top-l),p=a.length?Math.floor(a.offset().top-l):i,c=Math.floor(t.find(".cplus-status").outerHeight()/2),d=Math.floor(n.offset().top-l);$('<style type="text/css">.cplus-container-margin{margin-top:'+i+"px !important;} .cplus-subheading-margin{margin-top:"+(p+c)+"px !important;} .cplus-form-margin{margin-top:"+d+"px !important;} </style>").appendTo("body"),a.length&&a.css({top:c}),n.submit(function(e){e.preventDefault(),o(!0),$.ajax({type:"post",dataType:"json",cache:!1,url:cplus_custom.ajaxurl,data:n.serialize()+"&action=cplus-submit",success:function(o){s(o.data)},error:function(o,e,t){s({is_valid:!1,errors:{form:e+" : "+t}}),window.console&&window.console.log&&console.log(o,e,t)}})})})}(jQuery);