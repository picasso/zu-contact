!function($){$(document).ready(function(){function s(s){var e=a.find(".message");r.addClass("cplus-processed").removeClass("cplus-general-errors"),e.html(void 0===s.message?e.data("errmsg"):s.message),!0===s.is_valid?(n.find(".cplus-control.error").removeClass("error"),a.removeClass("sent not-sent").addClass("sent")):(n.find(".cplus-control.error").removeClass("error"),a.removeClass("sent not-sent").addClass("not-sent"),$.each(s.errors,function(s,o){if("nonce"===s||"form"===s)e.append("<span>"+o+"</span>"),r.addClass("cplus-general-errors");else{var t=n.find('span[for="cplus-'+s+'"]');t.html(o),t.closest(".cplus-control").addClass("error")}})),o(!1)}function o(s){s?(t.removeClass("before_posting"),l.attr("disabled","disabled")):l.removeAttr("disabled"),e.toggleClass("ajaxed",s)}var e=$("body"),r=$("#cplus"),t=r.find(".cplus-subheading"),a=r.find(".cplus-status"),n=r.find("form"),l=n.find("#cplus-submit"),i=r.parent().offset().top,p=Math.floor(r.offset().top-i),c=Math.floor(a.offset().top-i),d=Math.floor(n.offset().top-i);$('<style type="text/css">.cplus-container-margin{margin-top:'+p+"px !important;} .cplus-subheading-margin{margin-top:"+c+"px !important;} .cplus-form-margin{margin-top:"+d+"px !important;} </style>").appendTo("body"),t.length&&t.css({top:c-p}),n.submit(function(e){e.preventDefault(),o(!0),$.ajax({type:"post",dataType:"json",cache:!1,url:cplus_custom.ajaxurl,data:n.serialize()+"&action=cplus-submit",success:function(o){s(o.data)},error:function(o,e,r){s({is_valid:!1,errors:{form:e+" : "+r}}),window.console&&window.console.log&&console.log(o,e,r)}})})})}(jQuery);